# üöÄ PantelMed Platform - –ì–∞–π–¥ –ø–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—é

–î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—ó PantelMed –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ –∑ –º–∞–≥–∞–∑–∏–Ω–æ–º –ë–ê–î—ñ–≤ —Ç–∞ Telegram —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é.

## üìã –û–≥–ª—è–¥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

```mermaid
graph TB
    TG[Telegram Bot] --> WEB[Web Platform]
    WEB --> MONGO[MongoDB Atlas]
    WEB --> TRON[TRON Blockchain]
    WEB --> REDIS[Redis Cache]
    USERS[–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ] --> TG
    USERS --> WEB
    ADMIN[–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä] --> ADMIN_PANEL[Admin Panel]
    ADMIN_PANEL --> WEB
```

## üéØ –í–∞—Ä—ñ–∞–Ω—Ç–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### 1. üèÉ‚Äç‚ôÇÔ∏è –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (Render.com)
**–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–ª—è –ø–æ—á–∞—Ç–∫—É**
- ‚úÖ –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ HTTPS
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω –¥–æ—Å—Ç—É–ø–Ω–∏–π
- ‚ùå –û–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –Ω–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–º—É –ø–ª–∞–Ω—ñ

### 2. üê≥ Docker –ª–æ–∫–∞–ª—å–Ω–æ –∞–±–æ VPS
**–î–ª—è –ø–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é**
- ‚úÖ –ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ–º
- ‚úÖ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
- ‚ùå –ü–æ—Ç—Ä–µ–±—É—î —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –∑–Ω–∞–Ω—å
- ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ SSL

### 3. ‚òÅÔ∏è Cloud –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏ (AWS, Google Cloud, Azure)
**–î–ª—è enterprise —Ä—ñ—à–µ–Ω—å**
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
- ‚ùå –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- ‚ùå –í–∏—â–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å

---

## üöÄ –ú–µ—Ç–æ–¥ 1: –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Render.com

### –ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π**
```bash
git init
git add .
git commit -m "Initial PantelMed platform commit"
git branch -M main
git remote add origin https://github.com/yourusername/pantelmed-platform.git
git push -u origin main
```

2. **–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î –≤—Å—ñ —Ñ–∞–π–ª–∏:**
```
pantelmed-platform/
‚îú‚îÄ‚îÄ app.py                          ‚úÖ
‚îú‚îÄ‚îÄ telegram_bot.py                 ‚úÖ
‚îú‚îÄ‚îÄ index.html                      ‚úÖ
‚îú‚îÄ‚îÄ shop.html                       ‚úÖ
‚îú‚îÄ‚îÄ pay.html                        ‚úÖ
‚îú‚îÄ‚îÄ thankyou.html                   ‚úÖ
‚îú‚îÄ‚îÄ thankyou_supplements.html       ‚úÖ
‚îú‚îÄ‚îÄ admin.html                      ‚úÖ
‚îú‚îÄ‚îÄ style.css                       ‚úÖ
‚îú‚îÄ‚îÄ requirements.txt                ‚úÖ
‚îú‚îÄ‚îÄ .env.example                    ‚úÖ
‚îú‚îÄ‚îÄ README.md                       ‚úÖ
‚îú‚îÄ‚îÄ DEPLOYMENT_GUIDE.md             ‚úÖ
‚îî‚îÄ‚îÄ .gitignore                      üìù (—Å—Ç–≤–æ—Ä–∏—Ç–∏)
```

3. **–°—Ç–≤–æ—Ä—ñ—Ç—å .gitignore —Ñ–∞–π–ª:**
```gitignore
# Environment variables
.env
.env.local
.env.production

# Python
__pycache__/
*.pyc
*.pyo
*.pyd
.Python
env/
venv/
.venv/
pip-log.txt
pip-delete-this-directory.txt

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db

# Logs
*.log
logs/

# Database
*.db
*.sqlite3

# Uploads
uploads/

# Cache
.cache/
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤

#### 2.1 MongoDB Atlas

1. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞—Å—Ç–µ—Ä–∞:**
   - –ô–¥—ñ—Ç—å –Ω–∞ https://cloud.mongodb.com
   - –°—Ç–≤–æ—Ä—ñ—Ç—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –∞–∫–∞—É–Ω—Ç
   - –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∫–ª–∞—Å—Ç–µ—Ä (M0 Sandbox - –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π)
   - –ù–∞–∑–≤—ñ—Ç—å –∫–ª–∞—Å—Ç–µ—Ä: `pantelmed-cluster`

2. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É:**
   ```
   Database Access ‚Üí Add New Database User
   - Username: pantelmed
   - Password: [–≥–µ–Ω–µ—Ä—É–π—Ç–µ —Å–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å]
   - Built-in Role: Read and write to any database
   ```

3. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂—ñ:**
   ```
   Network Access ‚Üí Add IP Address
   - Add Current IP Address (–¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏)
   - Allow Access from Anywhere (–¥–ª—è Render.com)
   ```

4. **–û—Ç—Ä–∏–º–∞–Ω–Ω—è Connection String:**
   ```
   Clusters ‚Üí Connect ‚Üí Connect your application
   - Driver: Python
   - Version: 3.11 or later
   - Copy connection string
   ```

#### 2.2 Telegram Bot

1. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–æ—Ç–∞:**
   ```
   –ù–∞–ø–∏—à—ñ—Ç—å @BotFather –≤ Telegram:
   /newbot
   –ù–∞–∑–≤–∞: PantelMed Bot
   Username: pantelmed_bot (–∞–±–æ –≤–∞—à —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π)
   
   –ó–±–µ—Ä–µ–∂—ñ—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏–π TOKEN!
   ```

2. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Login Widget:**
   ```
   /setdomain
   [–≤–∞—à –º–∞–π–±—É—Ç–Ω—ñ–π –¥–æ–º–µ–Ω Render]
   
   /setcommands
   start - –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é
   help - –î–æ–≤—ñ–¥–∫–∞
   status - –°—Ç–∞—Ç—É—Å –ø—ñ–¥–ø–∏—Å–∫–∏
   shop - –ú–∞–≥–∞–∑–∏–Ω –ë–ê–î—ñ–≤
   support - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞
   ```

#### 2.3 TRON –ì–∞–º–∞–Ω–µ—Ü—å

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å TRON –≥–∞–º–∞–Ω–µ—Ü—å:**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ TronLink –∞–±–æ —ñ–Ω—à–∏–π –Ω–∞–¥—ñ–π–Ω–∏–π –≥–∞–º–∞–Ω–µ—Ü—å
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î TRC-20 —Ç–æ–∫–µ–Ω–∏
   - –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∞–¥—Ä–µ—Å—É –≥–∞–º–∞–Ω—Ü—è

2. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):**
   - –û—Ç—Ä–∏–º–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ñ TRX –∑ faucet
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ USDT

### –ö—Ä–æ–∫ 3: –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Render.com

#### 3.1 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web Service

1. **–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Render:**
   - –ô–¥—ñ—Ç—å –Ω–∞ https://render.com
   - –£–≤—ñ–π–¥—ñ—Ç—å —á–µ—Ä–µ–∑ GitHub
   - New ‚Üí Web Service
   - Connect your GitHub repository

2. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—É:**
   ```
   Name: pantelmed-platform
   Environment: Python 3
   Build Command: pip install -r requirements.txt
   Start Command: gunicorn app:app --bind 0.0.0.0:$PORT --workers 4
   Instance Type: Free (–∞–±–æ Professional)
   ```

#### 3.2 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
# –û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
FLASK_ENV=production
PORT=10000

# MongoDB
MONGO_URI=mongodb+srv://pantelmed:password@pantelmed-cluster.xxxxx.mongodb.net/pantelmed?retryWrites=true&w=majority

# Telegram
TELEGRAM_BOT_TOKEN=1234567890:AABBCCDDEEFFGGHHIIJJKKLLMMNNOOPPQQrr
TELEGRAM_BOT_USERNAME=pantelmed_bot
ADMIN_TELEGRAM_ID=123456789

# TRON
TRON_WALLET=TQeHa8VdwfyybxtioW4ggbnDC1rbWe8nFa
MIN_AMOUNT=2.6
MIN_AMOUNT_TEST=0.5
SUBSCRIPTION_DAYS=30

# –ë–µ–∑–ø–µ–∫–∞
ADMIN_PASSWORD=your_strong_password_here
```

#### 3.3 –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Telegram Bot (–æ–∫—Ä–µ–º–æ)

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å –¥—Ä—É–≥–∏–π Web Service:**
   ```
   Name: pantelmed-telegram-bot
   Environment: Python 3
   Build Command: pip install python-telegram-bot[all] aiohttp python-dotenv
   Start Command: python telegram_bot.py
   Instance Type: Free
   ```

2. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ:**
   ```bash
   TELEGRAM_BOT_TOKEN=your_bot_token
   PLATFORM_URL=https://pantelmed-platform.onrender.com
   ADMIN_TELEGRAM_ID=123456789
   ```

### –ö—Ä–æ–∫ 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Web –ø–ª–∞—Ç—Ñ–æ—Ä–º—É:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à Render URL
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ /health endpoint
   - –°–ø—Ä–æ–±—É–π—Ç–µ —É–≤—ñ–π—Ç–∏ –≤ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Telegram –±–æ—Ç–∞:**
   - –ù–∞–ø–∏—à—ñ—Ç—å /start –±–æ—Ç—É
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∫–Ω–æ–ø–∫–∏
   - –°–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–µ–± –ø–ª–∞—Ç—Ñ–æ—Ä–º—É

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é:**
   - –°–ø—Ä–æ–±—É–π—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç—å —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è

---

## üê≥ –ú–µ—Ç–æ–¥ 2: Docker —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

1. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Docker —Ç–∞ Docker Compose:**
```bash
# Ubuntu/Debian
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER

# Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

2. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
```bash
git clone https://github.com/yourusername/pantelmed-platform.git
cd pantelmed-platform
```

### –ö—Ä–æ–∫ 2: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å .env —Ñ–∞–π–ª:**
```bash
cp .env.example .env
nano .env
```

2. **–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ** (–¥–∏–≤. —Ä–æ–∑–¥—ñ–ª –≤–∏—â–µ)

### –ö—Ä–æ–∫ 3: –ó–∞–ø—É—Å–∫

#### –ü—Ä–æ—Å—Ç–∏–π –∑–∞–ø—É—Å–∫ (—Ç—ñ–ª—å–∫–∏ –æ—Å–Ω–æ–≤–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏):
```bash
docker-compose up -d web telegram-bot redis
```

#### –ü–æ–≤–Ω–∏–π –∑–∞–ø—É—Å–∫ –∑ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–æ–º:
```bash
docker-compose --profile monitoring up -d
```

#### –†–æ–∑—Ä–æ–±–∫–∞ –∑ –ª–æ–∫–∞–ª—å–Ω–æ—é –±–∞–∑–æ—é:
```bash
docker-compose --profile development up -d
```

### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Nginx (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è production –∑ SSL:

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å nginx.conf:**
```nginx
events {
    worker_connections 1024;
}

http {
    upstream pantelmed_app {
        server web:10000;
    }

    server {
        listen 80;
        server_name yourdomain.com www.yourdomain.com;
        return 301 https://$server_name$request_uri;
    }

    server {
        listen 443 ssl;
        server_name yourdomain.com www.yourdomain.com;

        ssl_certificate /etc/nginx/ssl/cert.pem;
        ssl_certificate_key /etc/nginx/ssl/key.pem;

        location / {
            proxy_pass http://pantelmed_app;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
}
```

2. **–ó–∞–ø—É—Å–∫ –∑ Nginx:**
```bash
docker-compose --profile production-nginx up -d
```

---

## ‚öôÔ∏è –ú–µ—Ç–æ–¥ 3: VPS —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

1. **–û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏:**
```bash
sudo apt update && sudo apt upgrade -y
```

2. **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:**
```bash
sudo apt install -y python3 python3-pip python3-venv nginx redis-server git curl
```

3. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:**
```bash
sudo adduser pantelmed
sudo usermod -aG sudo pantelmed
su - pantelmed
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–∞

1. **–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞:**
```bash
git clone https://github.com/yourusername/pantelmed-platform.git
cd pantelmed-platform

python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

2. **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:**
```bash
cp .env.example .env
nano .env
# –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```

### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è systemd —Å–µ—Ä–≤—ñ—Å—ñ–≤

1. **Web –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:**
```bash
sudo nano /etc/systemd/system/pantelmed-web.service
```

```ini
[Unit]
Description=PantelMed Web Platform
After=network.target

[Service]
User=pantelmed
Group=pantelmed
WorkingDirectory=/home/pantelmed/pantelmed-platform
Environment=PATH=/home/pantelmed/pantelmed-platform/venv/bin
ExecStart=/home/pantelmed/pantelmed-platform/venv/bin/gunicorn --workers 4 --bind 0.0.0.0:10000 app:app
Restart=always

[Install]
WantedBy=multi-user.target
```

2. **Telegram Bot:**
```bash
sudo nano /etc/systemd/system/pantelmed-bot.service
```

```ini
[Unit]
Description=PantelMed Telegram Bot
After=network.target

[Service]
User=pantelmed
Group=pantelmed
WorkingDirectory=/home/pantelmed/pantelmed-platform
Environment=PATH=/home/pantelmed/pantelmed-platform/venv/bin
ExecStart=/home/pantelmed/pantelmed-platform/venv/bin/python telegram_bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

3. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤:**
```bash
sudo systemctl daemon-reload
sudo systemctl enable pantelmed-web pantelmed-bot
sudo systemctl start pantelmed-web pantelmed-bot
```

### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Nginx

1. **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–∞–π—Ç—É:**
```bash
sudo nano /etc/nginx/sites-available/pantelmed
```

```nginx
server {
    listen 80;
    server_name yourdomain.com www.yourdomain.com;

    location / {
        proxy_pass http://127.0.0.1:10000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    location /static {
        alias /home/pantelmed/pantelmed-platform/static;
    }
}
```

2. **–ê–∫—Ç–∏–≤–∞—Ü—ñ—è:**
```bash
sudo ln -s /etc/nginx/sites-available/pantelmed /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

3. **SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç (Let's Encrypt):**
```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com
```

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–º–µ–Ω—É –≤ Telegram

```
@BotFather ‚Üí /setdomain ‚Üí yourdomain.com
```

### 2. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π

1. **Web –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:**
   - [ ] –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
   - [ ] Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î
   - [ ] –ú–∞–≥–∞–∑–∏–Ω –ë–ê–î—ñ–≤ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è
   - [ ] –ú–æ–∂–Ω–∞ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç–æ–≤–∞—Ä–∏ –≤ –∫–æ—à–∏–∫
   - [ ] –§–æ—Ä–º–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î
   - [ ] –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞

2. **Telegram Bot:**
   - [ ] –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ /start
   - [ ] –ö–Ω–æ–ø–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å
   - [ ] WebApp –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
   - [ ] –ü–µ—Ä–µ—Ö–æ–¥–∏ –Ω–∞ —Å–∞–π—Ç –ø—Ä–∞—Ü—é—é—Ç—å

3. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:**
   - [ ] –î–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å—Å—è
   - [ ] –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –±–∞–∑—ñ
   - [ ] –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –Ω–∞–¥—Ö–æ–¥—è—Ç—å
   - [ ] –ü–ª–∞—Ç–µ–∂—ñ –≤—ñ–¥—Å—Ç–µ–∂—É—é—Ç—å—Å—è

### 3. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

1. **–ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤:**
```bash
# Docker
docker-compose logs -f web
docker-compose logs -f telegram-bot

# systemd
sudo journalctl -f -u pantelmed-web
sudo journalctl -f -u pantelmed-bot
```

2. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤'—è:**
```bash
# Health check
curl https://yourdomain.com/health

# Admin stats
curl https://yourdomain.com/api/admin/health
```

---

## üîí –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

### 1. –ë–µ–∑–ø–µ–∫–∞

1. **Firewall:**
```bash
sudo ufw enable
sudo ufw allow ssh
sudo ufw allow 80
sudo ufw allow 443
```

2. **Fail2ban:**
```bash
sudo apt install fail2ban
sudo systemctl enable fail2ban
```

3. **–†–µ–≥—É–ª—è—Ä–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:**
```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å cron job –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω—å
sudo crontab -e
# –î–æ–¥–∞–π—Ç–µ: 0 3 * * 0 apt update && apt upgrade -y
```

### 2. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

1. **Redis –∫–µ—à:**
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Redis –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è —Å–µ—Å—ñ–π
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è API –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

2. **Backup:**
```bash
# –°–∫—Ä–∏–ø—Ç backup MongoDB
#!/bin/bash
BACKUP_DIR="/backup/mongodb"
DATE=$(date +%Y%m%d_%H%M%S)
mongodump --uri="$MONGO_URI" --out="$BACKUP_DIR/$DATE"
```

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è:**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Docker Swarm –∞–±–æ Kubernetes
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

---

## üö® –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ß–∞—Å—Ç—ñ—ñ –ø—Ä–æ–±–ª–µ–º–∏:

1. **"Bot token invalid"**
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ TELEGRAM_BOT_TOKEN
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ç–æ–∫–µ–Ω –Ω–µ –º–∞—î –∑–∞–π–≤–∏—Ö –ø—Ä–æ–±—ñ–ª—ñ–≤

2. **"MongoDB connection failed"**
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ MONGO_URI
   - –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ IP –¥–æ–¥–∞–Ω–æ –≤ whitelist
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥—ñ–Ω/–ø–∞—Ä–æ–ª—å

3. **"TRON API timeout"**
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç –∑'—î–¥–Ω–∞–Ω–Ω—è
   - TRON API –º–æ–∂–µ –±—É—Ç–∏ —Ç–∏–º—á–∞—Å–æ–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–º

4. **"Orders not saving"**
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ –∑–∞–ø–∏—Å—É –≤ MongoDB
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ web —Å–µ—Ä–≤—ñ—Å—É

### –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤
sudo systemctl restart pantelmed-web pantelmed-bot

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
sudo systemctl status pantelmed-web

# –ü–µ—Ä–µc—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker-compose restart web telegram-bot

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î
python -c "from pymongo import MongoClient; client = MongoClient('your_mongo_uri'); print(client.list_database_names())"
```

---

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏ –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è–º:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤—ñ—Å—ñ–≤
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
3. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —Å–µ—Ä–≤—ñ—Å—ñ–≤ (Render, MongoDB Atlas)
4. –°—Ç–≤–æ—Ä—ñ—Ç—å issue –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó

---

**–£—Å–ø—ñ—à–Ω–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è! üöÄ**

*PantelMed Platform Team* üè•üíö
